import{_ as s,c as a,a as p,o as t}from"./app-2MiBgEQI.js";const e="/assets/watermark_type_ZmFuZ3poZW5naGVpdGk_shadow_10_text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzM4Mzg4OQ___size_16_color_FFFFFF_t_70-8RO58YYv.png",o="/assets/watermark_type_ZmFuZ3poZW5naGVpdGk_shadow_10_text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzM4Mzg4OQ___size_16_color_FFFFFF_t_70-17644835826883-KgqK806j.png",c="/assets/watermark_type_ZmFuZ3poZW5naGVpdGk_shadow_10_text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzM4Mzg4OQ___size_16_color_FFFFFF_t_70-17644835863686-BrgfN8F2.png",l="/assets/watermark_type_ZmFuZ3poZW5naGVpdGk_shadow_10_text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzM4Mzg4OQ___size_16_color_FFFFFF_t_70-17644835892319-BegeGpHV.png",i="/assets/watermark_type_ZmFuZ3poZW5naGVpdGk_shadow_10_text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzM4Mzg4OQ___size_16_color_FFFFFF_t_70-176448359189812-D1tnixUK.png",u={};function r(k,n){return t(),a("div",null,[...n[0]||(n[0]=[p(`<p>先从Python的变量讲起，Python的变量比较特殊，变量本身不占空间，而是变量指向的内存地址占空间。变量名可以理解为该内存空间的别名，与C语言的引用类似。也可以更通俗地理解为：内存空间是一个瓶子，而变量名是瓶子的标签。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">a <span class="token operator">=</span> <span class="token number">5</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token number">140704116623136</span></span>
<span class="line"><span class="token number">140704116623136</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="可变对象与不可变对象" tabindex="-1"><a class="header-anchor" href="#可变对象与不可变对象"><span>可变对象与不可变对象</span></a></h2><p>有句话是这么说的：“Python万物皆对象”，不管是数字1还是字符串&quot;Hello world&quot;，又或者是更复杂的列表，他们都是对象。而对象按照其是否可变又分为可变对象与不可变对象。</p><h3 id="可变对象" tabindex="-1"><a class="header-anchor" href="#可变对象"><span>可变对象</span></a></h3><p>可变对象就是对象可以在内存地址不变的情况下改变数值。换句话说，可以在不创建新对象的情况下改变对象的值。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token function">id</span> <span class="token operator">=</span> <span class="token number">2595801473344</span></span>
<span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token function">id</span> <span class="token operator">=</span> <span class="token number">2595801473344</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+e+`" alt="example"></p><p>可以看到，在列表a添加了子元素4之后，其值发生改变，但是其内存地址并没有发生改变，或者说，没有创建新对象。</p><blockquote><p>Python中常见的可变对象有：</p><ul><li>列表list</li><li>集合set</li><li>字典dict</li></ul></blockquote><h3 id="不可变对象" tabindex="-1"><a class="header-anchor" href="#不可变对象"><span>不可变对象</span></a></h3><p>与可变对象相对应，不可变对象就是必须创建新对象才能改变其值。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a=&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">a <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a=&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line"><span class="token function">id</span> <span class="token operator">=</span> <span class="token number">140704172066464</span></span>
<span class="line">a <span class="token operator">=</span> <span class="token number">2</span></span>
<span class="line"><span class="token function">id</span> <span class="token operator">=</span> <span class="token number">140704172066496</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+o+`" alt="example"></p><p>可以看到当a的数值从1增加到2后，a的id值也发生了变化，而本质上其实是a创建了新对象，该过程等价于：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a=&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">a <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a=&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Python中常见的不可变对象有：</p><ul><li>整型int</li><li>字符串str</li><li>元组tuple</li></ul></blockquote><hr><h2 id="赋值、浅拷贝与深拷贝的区别" tabindex="-1"><a class="header-anchor" href="#赋值、浅拷贝与深拷贝的区别"><span>赋值、浅拷贝与深拷贝的区别</span></a></h2><h3 id="可变对象的赋值、浅拷贝与深拷贝" tabindex="-1"><a class="header-anchor" href="#可变对象的赋值、浅拷贝与深拷贝"><span>可变对象的赋值、浅拷贝与深拷贝</span></a></h3><h4 id="赋值" tabindex="-1"><a class="header-anchor" href="#赋值"><span>赋值</span></a></h4><p>赋值只是简单的引用。之前我们说过，Python变量的变量名可以理解为该内存地址的别名，而将一个变量赋值给另一个变量，其本质也相同。我们以一个例子说明：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> a</span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token operator">*</span><span class="token number">20</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">1565564084608</span></span>
<span class="line">b.id <span class="token operator">=</span> <span class="token number">1565564084608</span></span>
<span class="line">--------------------</span>
<span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">1565564084608</span></span>
<span class="line">b.id <span class="token operator">=</span> <span class="token number">1565564084608</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，通过赋值的方式，a和b有一样的id值，指向的列表是一样的，所以一直保持<code>b = a</code></p><p><img src="`+c+`" alt="example"></p><h4 id="浅拷贝" tabindex="-1"><a class="header-anchor" href="#浅拷贝"><span>浅拷贝</span></a></h4><p>我们直接看例子：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> copy <span class="token keyword">import</span> copy</span>
<span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">)</span></span>
<span class="line">a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">2753416727552</span></span>
<span class="line">b.id <span class="token operator">=</span> <span class="token number">2753417852608</span></span>
<span class="line">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2753416742336</span></span>
<span class="line">b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2753416742336</span></span>
<span class="line">-------------------------</span>
<span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>, <span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">2753416727552</span></span>
<span class="line">b.id <span class="token operator">=</span> <span class="token number">2753417852608</span></span>
<span class="line">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2753416742336</span></span>
<span class="line">b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2753416742336</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从结果看，经过浅拷贝后，列表<code>a</code>和列表<code>b</code>的id值（内存地址）不同，表示<code>a</code>和<code>b</code>是两个不同的列表对象，因此当<code>a</code>添加新元素时，<code>b</code>的值不会发生变化。但是，<code>a[3] = [1, 2, 3]</code>是列表，前面说过列表是可变对象，而<code>a[3]</code>和<code>b[3]</code>的id值是一样的，因此当<code>a[3]</code>对象发生变化时（对象内的增删改，不创建新对象），<code>b[3]</code>也对应发生改变。</p><p><img src="`+l+`" alt="example"></p><h4 id="深拷贝" tabindex="-1"><a class="header-anchor" href="#深拷贝"><span>深拷贝</span></a></h4><p>直接看例子： <code>注意：这个例子和上面浅拷贝的一样，只是把copy换成deepcopy</code></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> copy <span class="token keyword">import</span> deepcopy</span>
<span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> deepcopy<span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">)</span></span>
<span class="line">a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;b[3].id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">2259013929984</span></span>
<span class="line">b.id <span class="token operator">=</span> <span class="token number">2259015054976</span></span>
<span class="line">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2259013944704</span></span>
<span class="line">b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2259015054272</span></span>
<span class="line">-------------------------</span>
<span class="line">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>, <span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">2259013929984</span></span>
<span class="line">b.id <span class="token operator">=</span> <span class="token number">2259015054976</span></span>
<span class="line">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2259013944704</span></span>
<span class="line">b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>.id <span class="token operator">=</span> <span class="token number">2259015054272</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从结果来看，<code>b</code>完全不受<code>a</code>的影响。是的，这就是深拷贝，它相当于逐层的浅拷贝，不管是<code>a</code>和<code>b</code>还是<code>a[3]</code>和<code>b[3]</code>，它们的id值（内存地址）都不相同，它们都是不同的对象，因此当一方发生变化时，另外一方不受影响。</p><p><img src="`+i+`" alt="example"></p><h3 id="不可变对象的赋值、浅拷贝与深拷贝" tabindex="-1"><a class="header-anchor" href="#不可变对象的赋值、浅拷贝与深拷贝"><span>不可变对象的赋值、浅拷贝与深拷贝</span></a></h3><p>不可变对象是不可变的，发生变化时必然创建新对象，因此不管是赋值、浅拷贝还是深拷贝，当一方变化时，另外一方都不会受到影响。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> copy <span class="token keyword">import</span> copy<span class="token punctuation">,</span> deepcopy</span>
<span class="line">a <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">b <span class="token operator">=</span> a</span>
<span class="line">c <span class="token operator">=</span> copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line">d <span class="token operator">=</span> deepcopy<span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token string">&quot;c =&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token string">&quot;d =&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;c.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;d.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">)</span></span>
<span class="line">a <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">&quot;b =&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token string">&quot;c =&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token string">&quot;d =&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;b.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;c.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;d.id =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">a <span class="token operator">=</span> <span class="token number">1</span> b <span class="token operator">=</span> <span class="token number">1</span> c <span class="token operator">=</span> <span class="token number">1</span> d <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">140704172066464</span> b.id <span class="token operator">=</span> <span class="token number">140704172066464</span> c.id <span class="token operator">=</span> <span class="token number">140704172066464</span> d.id <span class="token operator">=</span> <span class="token number">140704172066464</span></span>
<span class="line">-------------------------</span>
<span class="line">a <span class="token operator">=</span> <span class="token number">2</span> b <span class="token operator">=</span> <span class="token number">1</span> c <span class="token operator">=</span> <span class="token number">1</span> d <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">a.id <span class="token operator">=</span> <span class="token number">140704172066496</span> b.id <span class="token operator">=</span> <span class="token number">140704172066464</span> c.id <span class="token operator">=</span> <span class="token number">140704172066464</span> d.id <span class="token operator">=</span> <span class="token number">140704172066464</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="结论" tabindex="-1"><a class="header-anchor" href="#结论"><span>结论</span></a></h2><ul><li>对于可变对象（列表、字典、集合等） <ul><li>赋值（b = a）：使b和a保持绝对的同步，当一方发生变化时（对象内的增删改，不创建新对象），另外一方也会发生同样的变化</li><li>浅拷贝（c = copy(a)）：会拷贝一层，即id(a) != id(c)。但是，当a的子元素也是可变对象时，该可变对象发生变化时（对象内的增删改，不创建新对象），c中对应的可变对象也会跟着一起变化</li><li>深拷贝（d = deepcopy(a)）：d和a是完全独立的两个对象，a发生任何变化都不会影响d</li></ul></li><li>对于不可变对象（整型、字符串、元组等） <ul><li>不管是赋值、浅拷贝还是深拷贝，当一方发生变化时，另外一方都完全不受影响</li></ul></li></ul><hr>`,56)])])}const b=s(u,[["render",r]]),m=JSON.parse('{"path":"/blogs/Python/deep_and_shallow_copy.html","title":"Python的深拷贝与浅拷贝","lang":"zh-CN","frontmatter":{"title":"Python的深拷贝与浅拷贝","date":"2021/08/03","tags":["编程基础"],"categories":["Python"]},"headers":[{"level":2,"title":"可变对象与不可变对象","slug":"可变对象与不可变对象","link":"#可变对象与不可变对象","children":[{"level":3,"title":"可变对象","slug":"可变对象","link":"#可变对象","children":[]},{"level":3,"title":"不可变对象","slug":"不可变对象","link":"#不可变对象","children":[]}]},{"level":2,"title":"赋值、浅拷贝与深拷贝的区别","slug":"赋值、浅拷贝与深拷贝的区别","link":"#赋值、浅拷贝与深拷贝的区别","children":[{"level":3,"title":"可变对象的赋值、浅拷贝与深拷贝","slug":"可变对象的赋值、浅拷贝与深拷贝","link":"#可变对象的赋值、浅拷贝与深拷贝","children":[]},{"level":3,"title":"不可变对象的赋值、浅拷贝与深拷贝","slug":"不可变对象的赋值、浅拷贝与深拷贝","link":"#不可变对象的赋值、浅拷贝与深拷贝","children":[]}]},{"level":2,"title":"结论","slug":"结论","link":"#结论","children":[]}],"git":{"createdTime":1764485360000,"updatedTime":1764485360000,"contributors":[{"name":"bertramoon","email":"bertramoon@126.com","commits":1}]},"filePathRelative":"blogs/Python/deep_and_shallow_copy.md"}');export{b as comp,m as data};
